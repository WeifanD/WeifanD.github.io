---
title: "Q&A in 2018 - Q1"
layout: post
date: 2018-05-01 14:39
image: /assets/images/markdown.jpg
headerImage: false
tag:
- Hive
- Shell
- R
category: blog
author: WeifanD
---
### Those questions
Simply write down questions that ever frustrated me a lot:

1. How to convert unix timestamp to standard format in SQL?
2. How to convert unix timestamp to standard format in R?
3. How to download files from the remote server to local desktop?
4. How to quit vim?
5. How to edit config in vim to install java as a root?
6. How to install Neo4j on Linux?
7. How to switch between root and super in Linux？
8. What is the common command for tmux?
9. How to download file via url from the remote server?
10. What is the common command for neo4j?
11. How to install pip in cmd?
12. Git: bash: cd: too many arguments?
13. How to export one large table from hive to personal file on remote server?
14. How to set the system variable?
15. How to check and edit in shell?
16. How to schedule a task in shell?

### Answers

``` 
FROM_UNIXTIME(log_timestamp/1000,'%Y-%m-%d %H:%i:%S')
```

``` 
as.POSIXct(1522789634, origin="1970-01-01 00:00:00")
[1] "2018-04-04 05:07:14 CST"
```
 
```
scp root@139.224.15.11:/opt/jupyter/member_teacher_header.csv .
scp C:/Users/lenovo/Documents/master/Innotechx/doc/graphdb.sh daiweifan@39.106.135.84:/home/super/weifanD
```
 
```
save and quit: ESC -> ':' -> 'wq'; not save and quit: ESC -> ':' -> 'q!'; unchange angthing and quitL ESC -> ':' -> '!'
```
 
```
sudo su -
cd /usr
mkdir java
cp /home/super/software/jdk-8u161-linux-x64.tar.gz /usr/java/
tar -zxvf jdk-8u161-linux-x64.tar.gz
ln -s /usr/java/jdk1.8.0_161/ /usr/jdk
vim /etc/profile

JAVA_HOME=/usr/jdk
PATH=$JAVA_HOME/bin:$PATH
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JAVA_HOME
export PATH
export CLASSPATH

source /etc/profile
sudo update-alternatives --install /usr/bin/java java /usr/java/jdk1.8.0_161/bin/java 50  
sudo update-alternatives --install /usr/bin/javac javac /usr/java/jdk1.8.0_161/bin/javac 50  
sudo update-alternatives --config java  
```

```
tar -xf <filename>
cd $NEO4J_HOME
```

```
sudo bash
sudo su -
exit
```

```
sudo apt-get install tmux//install tmux
tmux ls//查看现有会话
tmux attach -t 0//进入当前会话
Ctrl+B D//退出
```

```
wget https://hue.qutoutiao.net/filebrowser/download=/user/ac/node_member/000008_0
```

```
cd /path/to/neo4j
bin/neo4j start
bin/neo4j-shell
```


```
- download python package
- check pip.exe under \Scripts directory
- add path for pyhton and \Scripts file
- enter pip in cmd
- if there is error 'failed to create process', enter python.exe -m pip
```

```
replace the blank with ' '
```

```
sudo su -

beeline -u 'jdbc:hive2://172.16.53.159:10000' -n ac -p ac123 --outputformat=csv2 --incremental=true -e "set mapreduce.job.queuename=root.develop.adhoc.ac;select a.member_id,a.device_code,a.teacher_id from (
    select teacher_id, member_id,device_code from gobblin.qukan_p_member_info
    where day='2018-04-20'
) a
left join (
    select id,status from gobblin.qukan_p_member
        where day='2018-04-20'
        and status=1
    ) b
    on a.teacher_id=b.id
    order by a.member_id" > member_info.csv;
```

```
path: C:\Users\lenovo\software\python34
	  C:\Users\lenovo\software\python34\Scripts
```

```
check the size of file
- ls -lh test1.sh
- cat test1.sh |wc -l  
- head test1.sh
- cat member-city0424.csv | sed 1d |cut -d ',' -f 2,3|sort|uniq > city.csv
- df -h
- ssh root@139.224.15.11
- ps -ef |grep neo4j
- grep -Ev '^null|^Null|NULL' locate.csv > locate2.csv
- kill -9 ***
```

```
crontab -e
0 0 * * * * sh /your/path/to/***.sh > /your/path/to/**log.sh
```